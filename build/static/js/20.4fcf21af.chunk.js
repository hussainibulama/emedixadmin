(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[20],{309:function(e,t,a){"use strict";var r=a(0),n=a.n(r),s=a(3);t.a=function(e){return n.a.createElement("div",{className:"errormessage"},n.a.createElement(s.Grid,null,n.a.createElement(s.Cell,{col:2},n.a.createElement("div",{className:"center"},n.a.createElement("div",{className:"errcircle"},"!"))),n.a.createElement(s.Cell,{col:10},n.a.createElement("p",null,e.msg))))}},310:function(e,t,a){"use strict";var r=a(0),n=a.n(r),s=a(3),o=a(15),l=a(22);t.a=function(e){return n.a.createElement("div",{className:"goodmessage"},n.a.createElement(s.Grid,null,n.a.createElement(s.Cell,{col:2},n.a.createElement("div",{className:"center"},n.a.createElement("div",{className:"goodcircle"},n.a.createElement(o.a,{icon:l.f})))),n.a.createElement(s.Cell,{col:10},n.a.createElement("p",null,e.msg))))}},311:function(e,t,a){"use strict";var r=a(70),n=a(8),s=a(9),o=a(11),l=a(10),i=a(12),c=a(0),m=a.n(c),d=a(560),u=a(327),p=a(562),h=a(313),E=a.n(h),g=a(89),v=a(312),_=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(s)))).state={isOption:a.props.isOption,fullCard:!1,collapseCard:!1,loadCard:!1,cardRemove:!1},a.cardReloadHandler=function(){a.setState({loadCard:!0}),setInterval((function(){a.setState({loadCard:!1})}),3e3)},a.cardRemoveHandler=function(){a.setState({cardRemove:!0})},a}return Object(i.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e,t,a,n,s,o=this,l=[];return this.state.isOption&&(a=m.a.createElement("div",{className:"card-header-right"},m.a.createElement(d.a,{alignRight:!0,className:"btn-group card-option"},m.a.createElement(d.a.Toggle,{id:"dropdown-basic",className:"btn-icon"},m.a.createElement("i",{className:"feather icon-more-horizontal"})),m.a.createElement(d.a.Menu,{as:"ul",className:"list-unstyled card-option"},m.a.createElement(d.a.Item,{as:"li",className:"dropdown-item",onClick:function(){o.setState((function(e){return{fullCard:!e.fullCard}}))}},m.a.createElement("i",{className:this.state.fullCard?"feather icon-minimize":"feather icon-maximize"}),m.a.createElement("a",{href:v.a.BLANK_LINK}," ",this.state.fullCard?"Restore":"Maximize"," ")),m.a.createElement(d.a.Item,{as:"li",className:"dropdown-item",onClick:function(){o.setState((function(e){return{collapseCard:!e.collapseCard}}))}},m.a.createElement("i",{className:this.state.collapseCard?"feather icon-plus":"feather icon-minus"}),m.a.createElement("a",{href:v.a.BLANK_LINK}," ",this.state.collapseCard?"Expand":"Collapse"," ")),m.a.createElement(d.a.Item,{as:"li",className:"dropdown-item",onClick:this.cardReloadHandler},m.a.createElement("i",{className:"feather icon-refresh-cw"}),m.a.createElement("a",{href:v.a.BLANK_LINK}," Reload ")),m.a.createElement(d.a.Item,{as:"li",className:"dropdown-item",onClick:this.cardRemoveHandler},m.a.createElement("i",{className:"feather icon-trash"}),m.a.createElement("a",{href:v.a.BLANK_LINK}," Remove ")))))),n=m.a.createElement(u.a.Header,null,m.a.createElement(u.a.Title,{as:"h5"},this.props.title),a),this.state.fullCard&&(l=[].concat(Object(r.a)(l),["full-card"]),e={position:"fixed",top:0,left:0,right:0,width:this.props.windowWidth,height:this.props.windowHeight}),this.state.loadCard&&(l=[].concat(Object(r.a)(l),["card-load"]),t=m.a.createElement("div",{className:"card-loader"},m.a.createElement("i",{className:"pct-loader1 anim-rotate"}))),this.state.cardRemove&&(l=[].concat(Object(r.a)(l),["d-none"])),this.props.cardClass&&(l=[].concat(Object(r.a)(l),[this.props.cardClass])),s=m.a.createElement(u.a,{className:l.join(" "),style:e},n,m.a.createElement(p.a,{in:!this.state.collapseCard},m.a.createElement("div",null,m.a.createElement(u.a.Body,null,this.props.children))),t),m.a.createElement(g.a,null,s)}}]),t}(c.Component);t.a=E()(_)},427:function(e,t,a){"use strict";a.r(t);var r=a(18),n=a.n(r),s=a(27),o=a(40),l=a(8),i=a(9),c=a(11),m=a(10),d=a(12),u=a(0),p=a.n(u),h=a(325),E=a(134),g=a(307),v=a(69),_=a(33),f=a(89),b=a(311),C=a(22),y=a(309),S=a(310),x=a(15),N=a(14),w=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).singleFileChangedHandler=function(e){a.setState({selectedFile:e.target.files[0]})},a.singleFileUploadHandler=function(){var e=new FormData;if(a.setState({loader:!0}),a.state.selectedFile){e.append("profileImage",a.state.selectedFile,a.state.selectedFile.name);var t=localStorage.getItem("store_id");_.a.post("uploadlogo/"+t,e,{headers:{boundary:e._boundary}}).then((function(e){200===e.status&&(!1===e.data.success?(a.setState({errmsg:e.data.msg}),a.setState({error:!0,loader:!1}),a.setState({good:!1})):!0===e.data.success&&(a.setState({gmsg:e.data.msg}),a.refresh(),a.setState({good:!0,loader:!1}),a.setState({error:!1})))})).catch((function(e){console.log(e)}))}else a.setState({errmsg:"No file selected, please upload a file"}),a.setState({error:!0}),a.setState({good:!1,loader:!1})},a.handleChange=function(e){e.preventDefault();var t=e.target,r=t.name,n=t.value;a.setState(Object(o.a)({},r,n))},a.state={store_username:"",store_name:"",store_address:"",store_phone_no:"",store_logo:null,store_state:"",store_description:"",brief_description:"",delivery:"",delivery_fee:"",error:!1,errmsg:null,good:!1,gmsg:null,loading:!1,loader:!1,selectedFile:null},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"handleSubmit",value:function(e){e.preventDefault()}},{key:"refresh",value:function(){var e=Object(s.a)(n.a.mark((function e(){var t,a,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("store_id"),e.next=4,_.a.post("/selectprofile",{store_id:t});case 4:return a=e.sent,e.next=7,a.data;case 7:(r=e.sent)&&r.success&&this.setState({store_username:r.store_username,store_name:r.store_name,store_address:r.store_address,store_phone_no:r.store_phone_no,store_logo:r.store_logo,store_state:r.store_state,brief_description:r.brief_description,store_description:r.store_description,delivery:r.delivery,delivery_fee:0+parseInt(r.delivery_fee)}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(s.a)(n.a.mark((function e(){var t,a,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("store_id"),e.next=4,_.a.post("/selectprofile",{store_id:t});case 4:return a=e.sent,e.next=7,a.data;case 7:(r=e.sent)&&r.success&&this.setState({store_username:r.store_username,store_name:r.store_name,store_address:r.store_address,store_phone_no:r.store_phone_no,store_logo:r.store_logo,store_state:r.store_state,brief_description:r.brief_description,store_description:r.store_description,delivery:r.delivery,delivery_fee:0+parseInt(r.delivery_fee)}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"UpdateProfile",value:function(){var e=Object(s.a)(n.a.mark((function e(){var t,a,r,s,o,l;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({loading:!0}),""===this.state.store_name||""===this.state.store_address||""===this.state.store_phone_no||""===this.state.store_description||""===this.state.delivery||""===this.state.delivery_fees){e.next=35;break}if("no"!==this.state.delivery){e.next=19;break}return e.prev=3,t=localStorage.getItem("store_id"),e.next=7,_.a.post("/updateprofile",{store_id:t,store_name:this.state.store_name,brief_description:this.state.brief_description,store_description:this.state.store_description,store_state:this.state.store_state,delivery:this.state.delivery,delivery_fee:0,store_address:this.state.store_address,store_phone_no:this.state.store_phone_no});case 7:return a=e.sent,e.next=10,a.data;case 10:(r=e.sent)&&r.success?(this.setState({loading:!1}),this.setState({gmsg:r.msg}),this.setState({good:!0}),this.setState({error:!1})):r&&!1===r.success&&(this.setState({loading:!1}),this.setState({errmsg:r.msg}),this.setState({error:!0}),this.setState({good:!1})),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),console.log(e.t0);case 17:e.next=33;break;case 19:return e.prev=19,s=localStorage.getItem("store_id"),e.next=23,_.a.post("/updateprofile",{store_id:s,store_name:this.state.store_name,brief_description:this.state.brief_description,store_description:this.state.store_description,store_state:this.state.store_state,delivery:this.state.delivery,delivery_fee:0+parseInt(this.state.delivery_fee),store_address:this.state.store_address,store_phone_no:this.state.store_phone_no});case 23:return o=e.sent,e.next=26,o.data;case 26:(l=e.sent)&&l.success?(this.setState({loading:!1}),this.setState({gmsg:l.msg}),this.setState({good:!0}),this.setState({error:!1})):l&&!1===l.success&&(this.setState({loading:!1}),this.setState({errmsg:l.msg}),this.setState({error:!0}),this.setState({good:!1})),e.next=33;break;case 30:e.prev=30,e.t1=e.catch(19),console.log(e.t1);case 33:e.next=38;break;case 35:this.setState({loading:!1}),this.setState({errmsg:"Please Fill out your form Correctly"}),this.setState({error:!0});case 38:case"end":return e.stop()}}),e,this,[[3,14],[19,30]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.loading,r=t.loader,n=t.error,s=t.errmsg,o=t.good,l=t.gmsg;return null===localStorage.getItem("store_id")?p.a.createElement(N.a,{to:"/auth/signin"}):p.a.createElement(f.a,null,p.a.createElement(h.a,null,p.a.createElement(E.a,null,p.a.createElement(b.a,{title:"Profile"},n&&p.a.createElement(y.a,{msg:s}),o&&p.a.createElement(S.a,{msg:l}),p.a.createElement(h.a,null,p.a.createElement(E.a,{md:8},p.a.createElement("div",{style:{height:"100% !important"}},p.a.createElement(g.a,{onSubmit:this.handleSubmit},p.a.createElement(g.a.Group,{controlId:"formBasicEmail"},p.a.createElement(g.a.Label,null,"Store Username"),p.a.createElement(g.a.Control,{type:"email",disabled:!0,value:this.state.store_username?this.state.store_username:""})),p.a.createElement(g.a.Group,{controlId:"formBasicEmail"},p.a.createElement(g.a.Label,null,"Store Name"),p.a.createElement(g.a.Control,{type:"text",name:"store_name",value:this.state.store_name?this.state.store_name:"",onChange:this.handleChange,placeholder:"Chef Teemama Store"})),p.a.createElement(g.a.Group,{controlId:"formBasicEmail"},p.a.createElement(g.a.Label,null,"Store Location"),p.a.createElement(g.a.Control,{name:"store_state",as:"select",onChange:this.handleChange},p.a.createElement("option",null,this.state.store_state?this.state.store_state:""),p.a.createElement("option",{value:"Abia"},"Abia"),p.a.createElement("option",{value:"Adamawa"},"Adamawa"),p.a.createElement("option",{value:"Akwa Ibom"},"Akwa Ibom"),p.a.createElement("option",{value:"Anambra"},"Anambra"),p.a.createElement("option",{value:"Bauchi"},"Bauchi"),p.a.createElement("option",{value:"Bayelsa"},"Bayelsa"),p.a.createElement("option",{value:"Benue"},"Benue"),p.a.createElement("option",{value:"Borno"},"Borno"),p.a.createElement("option",{value:"Cross Rive"},"Cross River"),p.a.createElement("option",{value:"Delta"},"Delta"),p.a.createElement("option",{value:"Ebonyi"},"Ebonyi"),p.a.createElement("option",{value:"Edo"},"Edo"),p.a.createElement("option",{value:"Ekiti"},"Ekiti"),p.a.createElement("option",{value:"Enugu"},"Enugu"),p.a.createElement("option",{value:"FCT"},"Federal Capital Territory"),p.a.createElement("option",{value:"Gombe"},"Gombe"),p.a.createElement("option",{value:"Imo"},"Imo"),p.a.createElement("option",{value:"Jigawa"},"Jigawa"),p.a.createElement("option",{value:"Kaduna"},"Kaduna"),p.a.createElement("option",{value:"Kano"},"Kano"),p.a.createElement("option",{value:"Katsina"},"Katsina"),p.a.createElement("option",{value:"Kebbi"},"Kebbi"),p.a.createElement("option",{value:"Kogi"},"Kogi"),p.a.createElement("option",{value:"Kwara"},"Kwara"),p.a.createElement("option",{value:"Lagos"},"Lagos"),p.a.createElement("option",{value:"Nasarawa"},"Nasarawa"),p.a.createElement("option",{value:"Niger"},"Niger"),p.a.createElement("option",{value:"Ogun"},"Ogun"),p.a.createElement("option",{value:"Ondo"},"Ondo"),p.a.createElement("option",{value:"Osun"},"Osun"),p.a.createElement("option",{value:"Oyo"},"Oyo"),p.a.createElement("option",{value:"Plateau"},"Plateau"),p.a.createElement("option",{value:"Rivers"},"Rivers"),p.a.createElement("option",{value:"Sokoto"},"Sokoto"),p.a.createElement("option",{value:"Taraba"},"Taraba"),p.a.createElement("option",{value:"Yobe"},"Yobe"),p.a.createElement("option",{value:"Zamfara"},"Zamfara"))),p.a.createElement(g.a.Group,{controlId:"formBasicEmail"},p.a.createElement(g.a.Label,null,"Contact No"),p.a.createElement(g.a.Control,{value:this.state.store_phone_no?this.state.store_phone_no:"",onChange:this.handleChange,name:"store_phone_no",type:"number",placeholder:"08136668344"})),p.a.createElement(g.a.Group,{controlId:"exampleForm.ControlTextarea1"},p.a.createElement(g.a.Label,null,"Brief Description"," ",p.a.createElement("small",null,"This box only accept text or coma (,), all other punctuations are not accepted"," ")),p.a.createElement(g.a.Control,{value:this.state.brief_description?this.state.brief_description:"",onChange:this.handleChange,name:"brief_description",as:"textarea",rows:"4"})),p.a.createElement(g.a.Group,{controlId:"exampleForm.ControlTextarea1"},p.a.createElement(g.a.Label,null,"Store Description"," ",p.a.createElement("small",null,"This box only accept text or coma (,), all other punctuations are not accepted"," ")),p.a.createElement(g.a.Control,{value:this.state.store_description?this.state.store_description:"",onChange:this.handleChange,name:"store_description",as:"textarea",rows:"4"})),p.a.createElement(g.a.Group,{controlId:"formBasicEmail"},p.a.createElement(g.a.Label,null,"Do you accept deliveries?"),p.a.createElement(g.a.Control,{name:"delivery",as:"select",onChange:this.handleChange},p.a.createElement("option",null,this.state.delivery?this.state.delivery:""),p.a.createElement("option",null,"yes"),p.a.createElement("option",null,"no"))),p.a.createElement(g.a.Group,{controlId:"formBasicEmail"},p.a.createElement(g.a.Label,null,"if yes ? Constant Delivery fee"),p.a.createElement(g.a.Control,{value:this.state.delivery_fee?this.state.delivery_fee:"",onChange:this.handleChange,name:"delivery_fee",type:"number",placeholder:"e.g 1000"})),p.a.createElement(g.a.Group,{controlId:"exampleForm.ControlTextarea1"},p.a.createElement(g.a.Label,null,"Contact Address"),p.a.createElement(g.a.Control,{value:this.state.store_address?this.state.store_address:"",onChange:this.handleChange,name:"store_address",as:"textarea",rows:"4"})),p.a.createElement(v.a,{name:"Login",disabled:this.state.loading,value:p.a.createElement(p.a.Fragment,null,a&&p.a.createElement(x.a,{style:{position:"relative",top:"0px"},icon:C.x,spin:!0})," ",!a&&p.a.createElement(p.a.Fragment,null," Update Profile")),onClick:function(){return e.UpdateProfile()}})))),p.a.createElement(E.a,{md:4},p.a.createElement("div",{className:"smallcards",style:{height:"100% !important"}},p.a.createElement("h5",null,"Store Logo"),null!=this.state.store_logo&&p.a.createElement("img",{src:""+this.state.store_logo,height:"80px",alt:""+this.state.store_logo,width:"80px"}),p.a.createElement(g.a,{onSubmit:this.handleSubmit,style:{position:"relative",top:"2em"}},p.a.createElement(g.a.Group,{controlId:"exampleForm.ControlTextarea1"},p.a.createElement("input",{style:{position:"relative",left:"0",marginLeft:"-8px"},onChange:this.singleFileChangedHandler,type:"file",name:"file"})),p.a.createElement(v.a,{disabled:this.state.loader,onClick:this.singleFileUploadHandler,value:p.a.createElement(p.a.Fragment,null,r&&p.a.createElement(x.a,{style:{position:"relative",top:"0px"},icon:C.x,spin:!0})," ",!r&&p.a.createElement(p.a.Fragment,null," Upload Image"))})))))))))}}]),t}(p.a.Component);document.title="Profile | "+localStorage.getItem("username"),t.default=w}}]);
//# sourceMappingURL=20.4fcf21af.chunk.js.map