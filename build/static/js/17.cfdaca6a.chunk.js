(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[17],{309:function(e,t,a){"use strict";var n=a(0),r=a.n(n),s=a(3);t.a=function(e){return r.a.createElement("div",{className:"errormessage"},r.a.createElement(s.Grid,null,r.a.createElement(s.Cell,{col:2},r.a.createElement("div",{className:"center"},r.a.createElement("div",{className:"errcircle"},"!"))),r.a.createElement(s.Cell,{col:10},r.a.createElement("p",null,e.msg))))}},310:function(e,t,a){"use strict";var n=a(0),r=a.n(n),s=a(3),l=a(15),c=a(22);t.a=function(e){return r.a.createElement("div",{className:"goodmessage"},r.a.createElement(s.Grid,null,r.a.createElement(s.Cell,{col:2},r.a.createElement("div",{className:"center"},r.a.createElement("div",{className:"goodcircle"},r.a.createElement(l.a,{icon:c.f})))),r.a.createElement(s.Cell,{col:10},r.a.createElement("p",null,e.msg))))}},311:function(e,t,a){"use strict";var n=a(70),r=a(8),s=a(9),l=a(11),c=a(10),i=a(12),o=a(0),u=a.n(o),d=a(560),m=a(327),h=a(562),p=a(313),E=a.n(p),v=a(89),f=a(312),g=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).state={isOption:a.props.isOption,fullCard:!1,collapseCard:!1,loadCard:!1,cardRemove:!1},a.cardReloadHandler=function(){a.setState({loadCard:!0}),setInterval((function(){a.setState({loadCard:!1})}),3e3)},a.cardRemoveHandler=function(){a.setState({cardRemove:!0})},a}return Object(i.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e,t,a,r,s,l=this,c=[];return this.state.isOption&&(a=u.a.createElement("div",{className:"card-header-right"},u.a.createElement(d.a,{alignRight:!0,className:"btn-group card-option"},u.a.createElement(d.a.Toggle,{id:"dropdown-basic",className:"btn-icon"},u.a.createElement("i",{className:"feather icon-more-horizontal"})),u.a.createElement(d.a.Menu,{as:"ul",className:"list-unstyled card-option"},u.a.createElement(d.a.Item,{as:"li",className:"dropdown-item",onClick:function(){l.setState((function(e){return{fullCard:!e.fullCard}}))}},u.a.createElement("i",{className:this.state.fullCard?"feather icon-minimize":"feather icon-maximize"}),u.a.createElement("a",{href:f.a.BLANK_LINK}," ",this.state.fullCard?"Restore":"Maximize"," ")),u.a.createElement(d.a.Item,{as:"li",className:"dropdown-item",onClick:function(){l.setState((function(e){return{collapseCard:!e.collapseCard}}))}},u.a.createElement("i",{className:this.state.collapseCard?"feather icon-plus":"feather icon-minus"}),u.a.createElement("a",{href:f.a.BLANK_LINK}," ",this.state.collapseCard?"Expand":"Collapse"," ")),u.a.createElement(d.a.Item,{as:"li",className:"dropdown-item",onClick:this.cardReloadHandler},u.a.createElement("i",{className:"feather icon-refresh-cw"}),u.a.createElement("a",{href:f.a.BLANK_LINK}," Reload ")),u.a.createElement(d.a.Item,{as:"li",className:"dropdown-item",onClick:this.cardRemoveHandler},u.a.createElement("i",{className:"feather icon-trash"}),u.a.createElement("a",{href:f.a.BLANK_LINK}," Remove ")))))),r=u.a.createElement(m.a.Header,null,u.a.createElement(m.a.Title,{as:"h5"},this.props.title),a),this.state.fullCard&&(c=[].concat(Object(n.a)(c),["full-card"]),e={position:"fixed",top:0,left:0,right:0,width:this.props.windowWidth,height:this.props.windowHeight}),this.state.loadCard&&(c=[].concat(Object(n.a)(c),["card-load"]),t=u.a.createElement("div",{className:"card-loader"},u.a.createElement("i",{className:"pct-loader1 anim-rotate"}))),this.state.cardRemove&&(c=[].concat(Object(n.a)(c),["d-none"])),this.props.cardClass&&(c=[].concat(Object(n.a)(c),[this.props.cardClass])),s=u.a.createElement(m.a,{className:c.join(" "),style:e},r,u.a.createElement(h.a,{in:!this.state.collapseCard},u.a.createElement("div",null,u.a.createElement(m.a.Body,null,this.props.children))),t),u.a.createElement(v.a,null,s)}}]),t}(o.Component);t.a=E()(g)},317:function(e,t,a){"use strict";var n=a(4),r=a(5),s=a(7),l=a(2),c=a.n(l),i=a(0),o=a.n(i),u=a(19),d=function(e){function t(){return e.apply(this,arguments)||this}return Object(s.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.bsPrefix,a=e.className,s=e.striped,l=e.bordered,i=e.hover,u=e.size,d=e.variant,m=e.responsive,h=Object(r.a)(e,["bsPrefix","className","striped","bordered","hover","size","variant","responsive"]),p=c()(t,a,d&&t+"-"+d,u&&t+"-"+u,s&&t+"-striped",l&&t+"-bordered",i&&t+"-hover"),E=o.a.createElement("table",Object(n.a)({},h,{className:p}));if(m){var v=t+"-responsive";return"string"===typeof m&&(v=v+"-"+m),o.a.createElement("div",{className:v},E)}return E},t}(o.a.Component);t.a=Object(u.a)(d,"table")},546:function(e,t,a){"use strict";a.r(t);var n=a(18),r=a.n(n),s=a(27),l=a(8),c=a(9),i=a(11),o=a(10),u=a(12),d=a(0),m=a.n(d),h=a(325),p=a(134),E=a(327),v=a(317),f=a(15),g=a(14),y=a(22),C=a(309),b=a(310),x=a(69),_=a(40),k=a(307),S=a(33),N=a(89),w=a(311),O=a(13),j=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(o.a)(t).call(this,e))).handleChange=function(e){e.preventDefault();var t=e.target,n=t.name,r=t.value;a.setState(Object(_.a)({},n,r))},a.state={discount_code:"",discount_type:"",discount_value:"",expire:"",error:!1,errmsg:null,good:!1,gmsg:null,loading:!1},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"handleSubmit",value:function(e){e.preventDefault()}},{key:"resetForm",value:function(){this.setState({discount_code:"",discount_type:"",discount_value:"",expire:""})}},{key:"CreateDiscount",value:function(){var e=Object(s.a)(r.a.mark((function e(){var t,a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({loading:!0}),""===this.state.discount_code||""===this.state.discount_type||""===this.state.discount_value||""===this.state.expire){e.next=18;break}return e.prev=2,t=localStorage.getItem("store_id"),e.next=6,S.a.post("/discount",{store_id:t,discount_code:this.state.discount_code,discount_type:this.state.discount_type,discount_value:this.state.discount_value,expire:this.state.expire});case 6:return a=e.sent,e.next=9,a.data;case 9:(n=e.sent)&&n.success?(this.setState({loading:!1}),this.resetForm(),this.setState({gmsg:n.msg}),this.setState({good:!0}),this.setState({error:!1})):n&&!1===n.success&&(this.setState({loading:!1}),this.setState({errmsg:n.msg}),this.setState({error:!0}),this.setState({good:!1})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),console.log(e.t0);case 16:e.next=21;break;case 18:this.setState({loading:!1}),this.setState({errmsg:"Please Fill out your form Correctly"}),this.setState({error:!0});case 21:case"end":return e.stop()}}),e,this,[[2,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.loading,n=t.error,r=t.errmsg,s=t.good,l=t.gmsg;return m.a.createElement(N.a,null,m.a.createElement(h.a,null,m.a.createElement(p.a,null,m.a.createElement(w.a,{title:m.a.createElement("div",{className:"scaleto"},m.a.createElement("div",{className:"backer"},m.a.createElement(O.b,{onClick:this.props.onClick},m.a.createElement(f.a,{style:{fontSize:"20px",color:"#000000"},icon:y.c})))," ",m.a.createElement("div",{style:{lineHeight:"30px",marginLeft:"10px"}}," ","Create Discount"))},m.a.createElement(h.a,null,m.a.createElement(p.a,{md:8},n&&m.a.createElement(C.a,{msg:r}),s&&m.a.createElement(b.a,{msg:l}),m.a.createElement("div",{className:"smallcards",style:{height:"100%"}},m.a.createElement(k.a,{onSubmit:this.handleSubmit},m.a.createElement(k.a.Group,{controlId:"formBasicEmail"},m.a.createElement(k.a.Label,null,"Discount Code"),m.a.createElement(k.a.Control,{type:"text",required:!0,name:"discount_code",value:this.state.discount_code?this.state.discount_code:"",onChange:this.handleChange,placeholder:"DST101, XSMNFT, 112DST, ABUJA101"})),m.a.createElement(k.a.Group,{controlId:"formBasicEmail"},m.a.createElement(k.a.Label,null,"Discount Type"),m.a.createElement(k.a.Control,{name:"discount_type",value:this.state.discount_type?this.state.discount_type:"",onChange:this.handleChange,as:"select",required:!0,defaultValue:"Choose..."},m.a.createElement("option",null),m.a.createElement("option",null,"Percentage"),m.a.createElement("option",null,"Amount"))),m.a.createElement(k.a.Group,{controlId:"formBasicEmail"},m.a.createElement(k.a.Label,null,"Discount Value"),m.a.createElement(k.a.Control,{type:"text",name:"discount_value",value:this.state.discount_value?this.state.discount_value:"",onChange:this.handleChange,required:!0,placeholder:"like 200 if amount or 2% if percent"})),m.a.createElement(k.a.Group,{controlId:"formBasicEmail"},m.a.createElement(k.a.Label,null,"Discount Expiring Date"),m.a.createElement(k.a.Control,{name:"expire",onChange:this.handleChange,type:"date",required:!0,placeholder:"Expiring date"})),m.a.createElement(x.a,{disabled:this.state.loading,name:"Login",onClick:function(){return e.CreateDiscount()},value:m.a.createElement(m.a.Fragment,null,a&&m.a.createElement(f.a,{style:{position:"relative",top:"0px"},icon:y.x,spin:!0})," ",!a&&m.a.createElement(m.a.Fragment,null," Create Discount"))})))))))))}}]),t}(m.a.Component),D=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(o.a)(t).call(this,e))).state={discount_code:"",discount_type:"",discount_value:"",expire:"",results:[]},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"handleform",value:function(e){e.preventDefault()}},{key:"setInputValue",value:function(e,t){this.setState(Object(_.a)({},e,t))}},{key:"componentDidMount",value:function(){var e=Object(s.a)(r.a.mark((function e(){var t,a,n=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.a.post("/discounthistoryspecific",{update_id:this.props.update_id});case 3:return t=e.sent,e.next=6,t.data;case 6:a=e.sent,this.setState({results:a}),this.state.results.map((function(e,t){return n.setState({discount_code:e.discount_code,discount_type:e.discount_type,discount_value:e.discount_value,expire:e.expire})})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return m.a.createElement(N.a,null,m.a.createElement(h.a,null,m.a.createElement(p.a,null,m.a.createElement(w.a,{title:m.a.createElement("div",{className:"scaleto"},m.a.createElement("div",{className:"backer"},m.a.createElement(O.b,{onClick:this.props.onClick},m.a.createElement(f.a,{style:{fontSize:"20px",color:"#000000"},icon:y.c})))," ",m.a.createElement("div",{style:{lineHeight:"30px",marginLeft:"10px"}}," ","Edit Discount Record"))},m.a.createElement(h.a,null,m.a.createElement(p.a,{md:8},m.a.createElement("div",{className:"smallcards",style:{height:"100%"}},m.a.createElement(k.a,null,m.a.createElement(k.a.Group,{controlId:"formBasicEmail"},m.a.createElement(k.a.Label,null,"Discount Code ",this.props.update_id),m.a.createElement(k.a.Control,{type:"text",value:this.state.discount_code?this.state.discount_code:"",onChange:function(t){return e.setInputValue("discount_code",t.target.value)},placeholder:"DST101, XSMNFT, 112DST, ABUJA101"})),m.a.createElement(k.a.Group,{controlId:"formBasicEmail"},m.a.createElement(k.a.Label,null,"Discount Type"),m.a.createElement(k.a.Control,{onChange:function(t){return e.setInputValue("discount_type",t.target.value)},as:"select",defaultValue:"Choose..."},m.a.createElement("option",null,this.state.discount_type?this.state.discount_type:""),m.a.createElement("option",null,"Percentage"),m.a.createElement("option",null,"Amount"))),m.a.createElement(k.a.Group,{controlId:"formBasicEmail"},m.a.createElement(k.a.Label,null,"Discount Value"),m.a.createElement(k.a.Control,{type:"text",value:this.state.discount_value?this.state.discount_value:"",onChange:function(t){return e.setInputValue("discount_value",t.target.value)},placeholder:"like 200 if amount or 2% if percent"})),m.a.createElement(k.a.Group,{controlId:"formBasicEmail"},m.a.createElement(k.a.Label,null,"Discount Expiring Date"),m.a.createElement(k.a.Control,{value:this.state.expire?this.state.expire:"",onChange:function(t){return e.setInputValue("expire",t.target.value)},type:"date",required:!0,placeholder:"Expiring date"})),m.a.createElement(O.b,{style:{position:"relative",lineHeight:"2.5em"}},m.a.createElement(x.a,{name:"Login",value:"Save Product",placeholder:"Enter your name",handleChange:this.handleFullName}))))))))))}}]),t}(m.a.Component),I=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(o.a)(t).call(this,e))).state={viewer:"no",view:"",error:!1,errmsg:null,good:!1,gmsg:null,update_id:"",delete_id:"",results:[]},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(s.a)(r.a.mark((function e(){var t,a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("store_id"),e.next=4,S.a.post("/discounthistory",{store_id:t});case 4:return a=e.sent,e.next=7,a.data;case 7:n=e.sent,this.setState({results:n}),this.state.results&&this.state.results.length>0&&this.setState({viewer:"yes"}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"createAdd",value:function(){var e=Object(s.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({view:"add"});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"editRecord",value:function(){var e=Object(s.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({view:"edit"});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"goBack",value:function(){var e=Object(s.a)(r.a.mark((function e(){var t,a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({view:""}),e.prev=1,t=localStorage.getItem("store_id"),e.next=5,S.a.post("/discounthistory",{store_id:t});case 5:return a=e.sent,e.next=8,a.data;case 8:n=e.sent,this.setState({results:n}),this.state.results&&this.state.results.length>0&&(this.setState({viewer:"yes"}),this.setState({error:!1}),this.setState({good:!1})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0);case 16:case"end":return e.stop()}}),e,this,[[1,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"deleteRecord",value:function(){var e=Object(s.a)(r.a.mark((function e(t){var a,n,s,l,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.a.post("/deletediscount",{discount_id:t});case 3:return a=e.sent,e.next=6,a.data;case 6:if(!(n=e.sent)||!n.success){e.next=27;break}return this.setState({gmsg:n.msg}),this.setState({good:!0}),e.prev=10,s=localStorage.getItem("store_id"),e.next=14,S.a.post("/discounthistory",{store_id:s});case 14:return l=e.sent,e.next=17,l.data;case 17:c=e.sent,this.setState({results:c}),this.state.results&&this.state.results.length>0&&this.setState({viewer:"yes"}),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(10),console.log(e.t0);case 25:e.next=28;break;case 27:n&&!1===n.success&&(this.setState({loading:!1}),this.setState({errmsg:n.msg}),this.setState({error:!0}));case 28:e.next=33;break;case 30:e.prev=30,e.t1=e.catch(0),console.log(e.t1);case 33:case"end":return e.stop()}}),e,this,[[0,30],[10,22]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.viewer,n=t.view,r=t.errmsg,s=t.error,l=t.good,c=t.gmsg;return null===localStorage.getItem("store_id")?m.a.createElement(g.a,{to:"/auth/signin"}):"yes"===a&&""===n?m.a.createElement(N.a,null,m.a.createElement(h.a,null,m.a.createElement(p.a,null,m.a.createElement(E.a,null,m.a.createElement(E.a.Header,null,m.a.createElement(E.a.Title,{as:"h5"},"Discounts "),m.a.createElement("span",{className:"d-block m-t-5"},m.a.createElement("div",{style:{textAlign:"right",float:"right",alignItems:"right",justifyContent:"right",display:"inline-flex"},className:"leftadd"},m.a.createElement(x.a,{name:"Login",value:"Create discount",onClick:function(){return e.createAdd()},placeholder:"Enter your name",handleChange:this.handleFullName})))),m.a.createElement(E.a.Body,null,s&&m.a.createElement(C.a,{msg:r}),l&&m.a.createElement(b.a,{msg:c}),m.a.createElement(v.a,{responsive:!0,hover:!0},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"#"),m.a.createElement("th",null,"Discount Code"),m.a.createElement("th",null,"Type"),m.a.createElement("th",null,"Value"),m.a.createElement("th",null,"Expiring Date"),m.a.createElement("th",null,"Action"))),m.a.createElement("tbody",null,this.state.results.map((function(t,a){return m.a.createElement("tr",null,m.a.createElement("th",{scope:"row"},"1"),m.a.createElement("td",null,t.discount_code),m.a.createElement("td",null,t.discount_type),m.a.createElement("td",null,t.discount_value),m.a.createElement("td",null,t.expire),m.a.createElement("td",null,m.a.createElement("div",null,m.a.createElement(f.a,{onClick:function(){return e.deleteRecord(t.discount_id)},className:"editing",icon:y.A}))))}))))))))):"yes"===a&&"add"===n||"no"===a&&"add"===n?m.a.createElement(j,{onClick:function(){return e.goBack()}}):"yes"===a&&"edit"===n||"no"===a&&"edit"===n?m.a.createElement(D,{update_id:this.state.update_id,onClick:function(){return e.goBack()}}):m.a.createElement(N.a,null,m.a.createElement(h.a,null,m.a.createElement(p.a,null,m.a.createElement(w.a,{title:"Discount(s)"},m.a.createElement("div",{className:"precards"},m.a.createElement("div",{className:"preimage"},m.a.createElement(f.a,{className:"precc",icon:y.t})),m.a.createElement("h3",null,"Create and Manage Discounts"),m.a.createElement("p",{style:{color:"#000000"}}," ","This is where you\u2019ll create promotional discount for your customers and manage it entirely."),m.a.createElement("div",{className:"scaleto"},m.a.createElement(x.a,{name:"Login",value:"Create Discount",onClick:function(){return e.createAdd()},placeholder:"Enter your name",handleChange:this.handleFullName})))))))}}]),t}(m.a.Component);document.title="Discounts | "+localStorage.getItem("username");t.default=I}}]);
//# sourceMappingURL=17.cfdaca6a.chunk.js.map